{% extends 'base.html' %}
{% block title %}Sales System - Updated{% endblock %}
{% block content %}

<style>
body {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
}
.redirect-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 80vh;
  text-align: center;
  color: white;
}
.redirect-card {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  padding: 3rem;
  box-shadow: 0 15px 35px rgba(0,0,0,0.1);
  color: #333;
  max-width: 600px;
}
.redirect-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
  color: #667eea;
}
.redirect-title {
  font-size: 2rem;
  font-weight: bold;
  margin-bottom: 1rem;
}
.redirect-message {
  font-size: 1.1rem;
  margin-bottom: 2rem;
  line-height: 1.6;
}
.redirect-buttons {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
}
.redirect-btn {
  padding: 1rem 2rem;
  border-radius: 50px;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s ease;
  display: inline-block;
}
.btn-china {
  background: linear-gradient(135deg, #fd79a8, #e84393);
  color: white;
}
.btn-india {
  background: linear-gradient(135deg, #74b9ff, #0984e3);
  color: white;
}
.btn-dashboard {
  background: linear-gradient(135deg, #00b894, #00a085);
  color: white;
}
.redirect-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.2);
  color: white;
  text-decoration: none;
}
.feature-item {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
  text-align: left;
}
.countdown {
  font-size: 1.2rem;
  font-weight: bold;
  color: #667eea;
  margin-top: 1rem;
}
</style>

<div class="redirect-container">
  <div class="redirect-card">
    <div class="redirect-icon">ğŸš€</div>
    <h1 class="redirect-title">Sales System Updated!</h1>
    <p class="redirect-message">
      The sales system has been upgraded with separate point-of-sale interfaces for each branch. 
      Please choose your branch to access the new POS system with enhanced features:
    </p>
    
    <div class="row mb-4">
      <div class="col-md-6">
        <div class="feature-item">
          <strong>ğŸ–¨ï¸ Draft Invoice Printing</strong><br>
          <small>Print invoices before payment with "UNPAID" notice</small>
        </div>
      </div>
      <div class="col-md-6">
        <div class="feature-item">
          <strong>ğŸ”’ Secure Item Management</strong><br>
          <small>Password-protected item voiding</small>
        </div>
      </div>
      <div class="col-md-6">
        <div class="feature-item">
          <strong>ğŸ’³ Multiple Payment Methods</strong><br>
          <small>Cash, Card, Bank Transfer, Other</small>
        </div>
      </div>
      <div class="col-md-6">
        <div class="feature-item">
          <strong>ğŸª‘ Table-Based Orders</strong><br>
          <small>Track orders by table number</small>
        </div>
      </div>
    </div>
    
    <div class="redirect-buttons">
      <a href="{{ url_for('china_town_sales') }}" class="redirect-btn btn-china">
        ğŸ® China Town POS
      </a>
      <a href="{{ url_for('palace_india_sales') }}" class="redirect-btn btn-india">
        ğŸ›ï¸ Palace India POS
      </a>
      <a href="{{ url_for('dashboard') }}" class="redirect-btn btn-dashboard">
        ğŸ  Back to Dashboard
      </a>
    </div>
    
    <div class="countdown" id="countdown">
      Auto-redirecting to branch selection in <span id="timer">5</span> seconds...
    </div>
  </div>
</div>

<script>
// Auto-redirect after 5 seconds
let timeLeft = 5;
const timer = document.getElementById('timer');
const countdown = document.getElementById('countdown');

const countdownInterval = setInterval(() => {
  timeLeft--;
  timer.textContent = timeLeft;
  
  if (timeLeft <= 0) {
    clearInterval(countdownInterval);
    countdown.textContent = 'Redirecting now...';
    window.location.href = '{{ url_for("sales") }}';
  }
}, 1000);

// Allow user to cancel auto-redirect by clicking anywhere
document.addEventListener('click', () => {
  clearInterval(countdownInterval);
  countdown.style.display = 'none';
});
</script>

{% endblock %}
