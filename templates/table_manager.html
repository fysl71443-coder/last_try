{% extends 'base.html' %}
{% block title %}Table Manager · {{ branch_label }}{% endblock %}
{% block content %}
<div class="container-fluid py-4" id="manager-root" data-branch="{{ branch_code }}">
  <div class="d-flex flex-wrap justify-content-between align-items-center mb-4 gap-2">
    <div>
      <h3 class="mb-1">{{ branch_label }} — Table Manager</h3>
      <p class="text-muted mb-0">Manage sections, rows, and table numbers. Drag and drop freely, then save.</p>
    </div>
    <div class="d-flex gap-2">
      <a class="btn btn-outline-secondary" href="{{ url_for('main.table_settings') }}">← Back to branches</a>
      <button class="btn btn-primary" id="saveLayoutBtn">
        <i class="fa fa-save me-1"></i> Save Layout
      </button>
    </div>
  </div>

  <div class="card border-0 shadow-sm mb-3">
    <div class="card-body">
      <h5 class="card-title">Add Section</h5>
      <div class="input-group" style="max-width: 420px;">
        <input id="newSectionName" class="form-control" placeholder="New section name">
        <button class="btn btn-success" id="addSectionBtn">
          <i class="fa fa-plus me-1"></i> Add
        </button>
      </div>
    </div>
  </div>

  <div id="sections" class="d-grid gap-3"></div>
</div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/table-manager.js') }}?v={{ ASSET_VERSION }}"></script>
{% endblock %}
