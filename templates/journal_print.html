<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Journal Entry {{ entry.entry_number }}</title>
  <style>
    body { font-family: Arial, sans-serif; }
    .header { display:flex; justify-content:space-between; align-items:center; }
    table { width:100%; border-collapse: collapse; margin-top:12px; }
    th, td { border:1px solid #333; padding:6px; font-size: 12px; }
    .badge { padding:4px 8px; border-radius:4px; background:#eee; }
  </style>
</head>
<body>
  <div class="header">
    <div>
      <div><strong>رقم القيد:</strong> {{ entry.entry_number }}</div>
      <div><strong>التاريخ:</strong> {{ entry.date }}</div>
      <div><strong>الفرع:</strong> {{ entry.branch_code or '-' }}</div>
      <div><strong>الحالة:</strong> <span class="badge">{{ entry.status }}</span></div>
    </div>
    <div>
      <div><strong>المحاسب:</strong> {{ (entry.posted_by or entry.created_by) or '-' }}</div>
    </div>
  </div>
  <div style="margin-top:8px"><strong>الوصف:</strong> {{ entry.description }}</div>
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>الحساب</th>
        <th>الوصف</th>
        <th>مركز تكلفة</th>
        <th>تاريخ السطر</th>
        <th>مدين</th>
        <th>دائن</th>
      </tr>
    </thead>
    <tbody>
      {% for ln in entry.lines %}
      <tr>
        <td>{{ ln.line_no }}</td>
        <td>{{ ln.account.code }} – {{ ln.account.name }}</td>
        <td>{{ ln.description }}</td>
        <td>{{ ln.cost_center or '-' }}</td>
        <td>{{ ln.line_date }}</td>
        <td>{{ '%.2f'|format(ln.debit or 0) }}</td>
        <td>{{ '%.2f'|format(ln.credit or 0) }}</td>
      </tr>
      {% endfor %}
    </tbody>
    <tfoot>
      <tr>
        <th colspan="5" style="text-align:right">الإجمالي</th>
        <th>{{ '%.2f'|format(entry.total_debit or 0) }}</th>
        <th>{{ '%.2f'|format(entry.total_credit or 0) }}</th>
      </tr>
    </tfoot>
  </table>
  <div style="margin-top:24px">
    <div><strong>توقيع المحاسب:</strong> __________________________</div>
  </div>
</body>
</html>