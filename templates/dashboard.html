{% extends 'base.html' %}
{% block title %}{{ _('Dashboard / لوحة التحكم') }}{% endblock %}
{% block content %}

<style>
body {
  background: #f4f6f9;
}
.dashboard-card {
  background: white;
  border-radius: 12px;
  box-shadow: 0px 4px 8px rgba(0,0,0,0.05);
  transition: all 0.2s ease-in-out;
  padding: 1.5rem;
  text-align: center;
}
.dashboard-card:hover {
  transform: translateY(-3px);
  box-shadow: 0px 6px 14px rgba(0,0,0,0.1);
}
.dashboard-icon {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  color: #2a5298;
}
</style>

<div class="container py-4">
  <h3 class="mb-4">{{ _('Dashboard / لوحة التحكم') }}</h3>

  

  <div class="row g-4">
    {% if can('sales','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.sales') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">💰</div>
          <h6>{{ _('Sales / المبيعات') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('purchases','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.purchases') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">🛒</div>
          <h6>{{ _('Purchases / المشتريات') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('suppliers','view') %}
	    <div class="col-md-3 col-sm-6">
	      <a href="{{ url_for('main.suppliers') }}" class="text-decoration-none text-dark">
	        <div class="dashboard-card">
	          <div class="dashboard-icon">🤝</div>
	          <h6>{{ _('Suppliers / الموردون') }}</h6>
	        </div>
	      </a>
	    </div>
    {% endif %}


    {% if can('expenses','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.expenses') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">💸</div>
          <h6>{{ _('Expenses / المصروفات') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('invoices','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.invoices') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">📄</div>
          <h6>{{ _('All Invoices / كل الفواتير') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('inventory','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.inventory') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">📦</div>
          <h6>{{ _('Inventory & Costs / المخزون وادارة التكاليف') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('employees','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.employees') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">🧑‍💼</div>
          <h6>{{ _('Employees / الموظفون') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    

    {% if can('payments','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.payments') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">💳</div>
          <h6>{{ _('Payments & Receivables / المدفوعات والمستحقات') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('orders','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.order_invoices_list') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">🧾</div>
          <h6>فواتير الطلبات (قبل الدفع)</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('reports','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.reports') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">📊</div>
          <h6>{{ _('Reports / التقارير') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('vat','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('vat.vat_dashboard') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">🧾</div>
          <h6>{{ _('VAT / ضريبة القيمة المضافة') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('financials','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('financials.income_statement') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">📚</div>
          <h6>{{ _('Financial Statements / القوائم المالية') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('customers','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.customers') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">👥</div>
          <h6>{{ _('Customers / العملاء') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('menu','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.menu') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">📖</div>
          <h6>{{ _('Menu / المنيو') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('settings','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.settings') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">⚙️</div>
          <h6>{{ _('Settings / الإعدادات') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('table_settings','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.table_settings') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">🪑</div>
          <h6>{{ _('Table Settings / إعدادات الطاولات') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('users','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.users') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">🔑</div>
          <h6>{{ _('Users & Permissions / إدارة المستخدمين والصلاحيات') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('sample_data','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.create_sample_data_route') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card" style="border: 2px dashed #28a745;">
          <div class="dashboard-icon">🧪</div>
          <h6>{{ _('Create Sample Data / إنشاء بيانات تجريبية') }}</h6>
          <small class="text-muted">{{ _('For testing purposes / لأغراض الاختبار') }}</small>
        </div>
      </a>
    </div>
    {% endif %}

  {% if (current_user.role|default('')) == 'user' %}
  <div class="mt-4">
    <div class="alert alert-info">
      {{ _('Sales users only see sales. Use the top menu to access your branch sales tables.') }}
    </div>
  </div>
  {% endif %}

  </div>
</div>

{% endblock %}
