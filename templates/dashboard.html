{% extends 'base.html' %}
{% block title %}{{ _('Dashboard / Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…') }}{% endblock %}
{% block content %}

<style>
body {
  background: #f4f6f9;
}
.dashboard-card {
  background: white;
  border-radius: 12px;
  box-shadow: 0px 4px 8px rgba(0,0,0,0.05);
  transition: all 0.2s ease-in-out;
  padding: 1.5rem;
  text-align: center;
}
.dashboard-card:hover {
  transform: translateY(-3px);
  box-shadow: 0px 6px 14px rgba(0,0,0,0.1);
}
.dashboard-icon {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  color: #2a5298;
}
</style>

<div class="container py-4">
  <h3 class="mb-4">{{ _('Dashboard / Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…') }}</h3>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³Ø±ÙŠØ¹ -->
  <div class="row mb-4">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <h6 class="card-title mb-3">ğŸš€ {{ _('Quick Access / Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹') }}</h6>
          <div class="d-flex flex-wrap gap-2">
            {% if can('sales','view') %}
            <a href="{{ url_for('main.sales') }}" class="btn btn-primary btn-sm">
              ğŸ’° {{ _('New Sale / Ù…Ø¨ÙŠØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©') }}
            </a>
            {% endif %}
            {% if can('purchases','view') %}
            <a href="{{ url_for('main.purchases') }}" class="btn btn-warning btn-sm">
              ğŸ›’ {{ _('New Purchase / Ø´Ø±Ø§Ø¡ Ø¬Ø¯ÙŠØ¯') }}
            </a>
            {% endif %}
            {% if can('inventory','view') %}
            <a href="{{ url_for('main.raw_materials') }}" class="btn btn-success btn-sm">
              ğŸ¥˜ {{ _('Add Material / Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø©') }}
            </a>
            <a href="{{ url_for('main.meals') }}" class="btn btn-info btn-sm">
              ğŸ½ï¸ {{ _('Create Meal / Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¬Ø¨Ø©') }}
            </a>
            <a href="{{ url_for('main.inventory') }}" class="btn btn-secondary btn-sm">
              ğŸ“¦ {{ _('View Inventory / Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†') }}
            </a>
            {% endif %}
            {% if can('expenses','view') %}
            <a href="{{ url_for('main.expenses') }}" class="btn btn-danger btn-sm">
              ğŸ’¸ {{ _('Add Expense / Ø¥Ø¶Ø§ÙØ© Ù…ØµØ±ÙˆÙ') }}
            </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row g-4">
    {% if can('sales','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.sales') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ’°</div>
          <h6>{{ _('Sales / Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('purchases','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.purchases') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ›’</div>
          <h6>{{ _('Purchases / Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

	    <div class="col-md-3 col-sm-6">
	      <a href="{{ url_for('main.suppliers') }}" class="text-decoration-none text-dark">
	        <div class="dashboard-card">
	          <div class="dashboard-icon">ğŸ¤</div>
	          <h6>{{ _('Suppliers / Ø§Ù„Ù…ÙˆØ±Ø¯ÙˆÙ†') }}</h6>
	        </div>
	      </a>
	    </div>


    {% if can('expenses','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.expenses') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ’¸</div>
          <h6>{{ _('Expenses / Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('sales','view') or can('purchases','view') or can('expenses','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.invoices') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ“„</div>
          <h6>{{ _('All Invoices / ÙƒÙ„ Ø§Ù„ÙÙˆØ§ØªÙŠØ±') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('inventory','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.inventory') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ“¦</div>
          <h6>{{ _('Inventory & Costs / Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('salaries','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.employees') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ‘¨â€ğŸ’¼</div>
          <h6>{{ _('Employees & Salaries / Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙˆØ§Ù„Ø±ÙˆØ§ØªØ¨') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('sales','view') or can('purchases','view') or can('expenses','view') or can('salaries','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.payments') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ’³</div>
          <h6>{{ _('Payments & Receivables / Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('reports','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.reports') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ“Š</div>
          <h6>{{ _('Reports / Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('vat','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('vat.vat_dashboard') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ§¾</div>
          <h6>{{ _('VAT / Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('financials','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('financials.income_statement') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ“š</div>
          <h6>{{ _('Financial Statements / Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ø§Ù„ÙŠØ©') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('sales','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.customers') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ‘¥</div>
          <h6>{{ _('Customers / Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    {% if can('inventory','view') or can('sales','view') %}
    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.menu') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ“–</div>
          <h6>{{ _('Menu / Ø§Ù„Ù…Ù†ÙŠÙˆ') }}</h6>
        </div>
      </a>
    </div>
    {% endif %}

    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.settings') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">âš™ï¸</div>
          <h6>{{ _('Settings / Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª') }}</h6>
        </div>
      </a>
    </div>

    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.table_settings') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸª‘</div>
          <h6>{{ _('Table Settings / Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ø§ÙˆÙ„Ø§Øª') }}</h6>
        </div>
      </a>
    </div>

    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.users') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card">
          <div class="dashboard-icon">ğŸ”‘</div>
          <h6>{{ _('Users & Permissions / Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª') }}</h6>
        </div>
      </a>
    </div>

    <div class="col-md-3 col-sm-6">
      <a href="{{ url_for('main.create_sample_data_route') }}" class="text-decoration-none text-dark">
        <div class="dashboard-card" style="border: 2px dashed #28a745;">
          <div class="dashboard-icon">ğŸ§ª</div>
          <h6>{{ _('Create Sample Data / Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©') }}</h6>
          <small class="text-muted">{{ _('For testing purposes / Ù„Ø£ØºØ±Ø§Ø¶ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±') }}</small>
        </div>
      </a>
    </div>

  {% if (current_user.role|default('')) == 'user' %}
  <div class="mt-4">
    <div class="alert alert-info">
      {{ _('Sales users only see sales. Use the top menu to access your branch sales tables.') }}
    </div>
  </div>
  {% endif %}

      </a>
    </div>
  </div>
</div>

{% endblock %}
